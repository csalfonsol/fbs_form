{"ast":null,"code":"import _toConsumableArray from\"/home/snw/Documentos/React projects/fbs/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/snw/Documentos/React projects/fbs/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/snw/Documentos/React projects/fbs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/snw/Documentos/React projects/fbs/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Librerias\nimport React,{useEffect,useState}from'react';import{useFormContext}from'react-hook-form';import es from'date-fns/locale/es';import axios from'axios';// Layout\nimport Form from'react-bootstrap/Form';import Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';// Elementos\nimport InputGroup from'react-bootstrap/InputGroup';import Overlay from'react-bootstrap/Overlay';import Tooltip from'react-bootstrap/Tooltip';import Button from'react-bootstrap/Button';import ReactTable from'react-table-6';import DatePicker from\"react-datepicker\";// Estilos\nimport'bootstrap/dist/css/bootstrap.min.css';import'react-table-6/react-table.css';import\"react-datepicker/dist/react-datepicker.css\";import'../styles/app.css';// URL del servidor para solicitar los departamentos\nvar URL_departamentos='http://3.80.200.194/ords/snw_fonviv/lista/departamento';// URL del servidor para solicitar municipios a partir de un departamento\nvar URL_municipios='http://3.80.200.194/ords/snw_fonviv/lista/municipio?id_departamento=';// URL del servidor para solicitar nombres y apellidos de un funcionario, a partir de su No. documento\nvar URL_nombre_completo='http://3.80.200.194/ords/snw_fonviv/solicitud/cliente?identificacion=';var InformacionPersonalFuncionario=function InformacionPersonalFuncionario(props){// Funciones utilizadas para conectar con el contexto principal del formulario\nvar register=useFormContext().register;var watch=useFormContext().watch;var errors=useFormContext().errors;var _useState=useState(\"Se autocompleta con el No. de documento...\"),_useState2=_slicedToArray(_useState,2),nombreCompleto=_useState2[0],setNombreCompleto=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),departamentos=_useState4[0],setDepartamentos=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),municipios=_useState6[0],setMunicipios=_useState6[1];// Se llama la función (Callback) del componente padre (Main)\nfunction cambiarFechaNacimiento(fecha){props.cambiarFechaNacimiento(fecha);}function cambiarPersonasaCargo(data){props.cambiarPersonasaCargo(data);}// Se ejecuta cada vez que se renderiza este componente\nuseEffect(function(){// Se carga la lista de departamentos y municipios\nfunction obtenerDepartamentos(){return _obtenerDepartamentos.apply(this,arguments);}function _obtenerDepartamentos(){_obtenerDepartamentos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,result,index;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(URL_departamentos);case 3:response=_context.sent;data=response.data.items;result=[];// Opcion por defecto\nresult.push(React.createElement(\"option\",{value:0,key:0},\"Seleccione una Opci\\xF3n\"));for(index in data){result.push(React.createElement(\"option\",{value:data[index].codigo,key:data[index].codigo},data[index].nombre));}setDepartamentos(result);// Se obtiene el municipio por defecto a partir del departamento por defecto\nrecalcularMunicipios();_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log('Fallo obteniendo los departamentos / municipios'+_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _obtenerDepartamentos.apply(this,arguments);}obtenerDepartamentos();},[]);// Funcion para consultar en base de datos los nombres y apellidos a partir del numero de documento\nfunction obtenerNombreCompleto(){return _obtenerNombreCompleto.apply(this,arguments);}// Recalcular listado de municipios con base al departamento seleccionado\nfunction _obtenerNombreCompleto(){_obtenerNombreCompleto=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var URL,response,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(watch('documento')!=='')){_context2.next=18;break;}_context2.prev=1;URL=URL_nombre_completo;URL+=watch('documento');_context2.next=6;return axios.get(URL);case 6:response=_context2.sent;_context2.next=9;return response.data;case 9:result=_context2.sent;setNombreCompleto(result);_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](1);console.log('Fallo obteniendo los nombres y apellidos'+_context2.t0);case 16:_context2.next=19;break;case 18:setNombreCompleto(\"Se autocompleta con el No. de documento...\");case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[1,13]]);}));return _obtenerNombreCompleto.apply(this,arguments);}function recalcularMunicipios(){return _recalcularMunicipios.apply(this,arguments);}// Agregar una persona a cargo en el datagrid de personas a cargo\nfunction _recalcularMunicipios(){_recalcularMunicipios=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var URL,response,data,result,index;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;URL=URL_municipios;URL+=watch('departamento');_context3.next=5;return axios.get(URL);case 5:response=_context3.sent;_context3.next=8;return response.data.items;case 8:data=_context3.sent;result=[];// Opcion por defecto\nresult.push(React.createElement(\"option\",{value:0,key:0},\"Seleccione una Opci\\xF3n\"));for(index in data){result.push(React.createElement(\"option\",{value:data[index].codigo,key:data[index].codigo},data[index].nombre));}setMunicipios(result);_context3.next=18;break;case 15:_context3.prev=15;_context3.t0=_context3[\"catch\"](0);console.log('Fallo obteniendo los municipios'+_context3.t0);case 18:case\"end\":return _context3.stop();}}},_callee3,null,[[0,15]]);}));return _recalcularMunicipios.apply(this,arguments);}function agregar(){// Máximo pueden haber 4 personas a cargo\nif(props.personasaCargo.length<4){var result=_toConsumableArray(props.personasaCargo);result.push([,\"\",\"\"]);cambiarPersonasaCargo(result);}}// Celda para ingresar datos\nfunction renderEditable(cellInfo){return React.createElement(\"div\",{className:\"cell\",contentEditable:true// La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n,onBlur:function onBlur(e){// Se valida si la edad es numerica o no\nif(cellInfo.column.id===3){if(!isNaN(e.target.innerHTML)){var newData=_toConsumableArray(props.personasaCargo);newData[cellInfo.index][cellInfo.column.id]=e.target.innerHTML;cambiarPersonasaCargo(newData);}}else{var _newData=_toConsumableArray(props.personasaCargo);_newData[cellInfo.index][cellInfo.column.id]=e.target.innerHTML;cambiarPersonasaCargo(_newData);}},dangerouslySetInnerHTML:{__html:props.personasaCargo[cellInfo.index][cellInfo.column.id]}});}// Celda para eliminar la fila\nfunction renderDelete(cellInfo){return React.createElement(Button,{onClick:function onClick(e){// Mínimo debe haber una persona a cargo\nif(props.personasaCargo.length>1){var result=_toConsumableArray(props.personasaCargo);result.splice(cellInfo.index,1);cambiarPersonasaCargo(result);}},size:\"sm\",variant:\"danger\",className:\"rellenar\"},\"Eliminar\");}/* Ayuda emergente para mostrar cuando la validación de campo requerido no se cumple;\n     * Componente: Es el name con el cual se identifica el elemento que no cumple la validación     \n  */function renderValidationRequired(componente){return React.createElement(Overlay,{target:document.getElementsByName(componente)[0],show:true,placement:\"top\"},function(props){return React.createElement(Tooltip,props,React.createElement(\"span\",null,\"Campo requerido\"));});}return React.createElement(\"div\",null,React.createElement(\"h3\",{className:\"mb-4 mt-5\"},\"1. Informaci\\xF3n personal del funcionario\"),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Nombres y Apellidos\")),React.createElement(Col,null,React.createElement(Form.Control,{disabled:true,size:\"sm\",name:\"nombres\",type:\"text\",value:nombreCompleto}))),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Tipo Documento\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"tipo_documento\",as:\"select\",ref:register},React.createElement(\"option\",{value:\"0\"},\"Seleccione una opci\\xF3n\"),React.createElement(\"option\",{value:\"CC\"},\"C.C\"),React.createElement(\"option\",{value:\"CE\"},\"C.E\"),React.createElement(\"option\",{value:\"NIT\"},\"NIT\"),React.createElement(\"option\",{value:\"TI\"},\"T.I\"),React.createElement(\"option\",{value:\"RC\"},\"REGISTRO CIVIL\"))),React.createElement(Col,{md:\"0\",className:\"ml-3\"},React.createElement(\"span\",null,\"No. Documento\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"documento\",type:\"number\",onBlur:obtenerNombreCompleto,ref:register({required:true})}),errors.documento&&renderValidationRequired(\"documento\")),React.createElement(Col,{md:\"0\",className:\"ml-3 mr-3\"},React.createElement(\"span\",null,\"Sexo\")),React.createElement(Col,{md:\"0\"},React.createElement(Form.Control,{size:\"sm\",name:\"sexo\",as:\"select\",ref:register},React.createElement(\"option\",{value:\"0\"},\"Seleccione una opci\\xF3n\"),React.createElement(\"option\",{value:\"M\"},\"Masculino\"),React.createElement(\"option\",{value:\"F\"},\"Femenino\"),React.createElement(\"option\",{value:\"O\"},\"Otro\"))),React.createElement(Col,{md:\"0\",className:\"ml-5\"},React.createElement(\"span\",null,\"Tel\\xE9fono M\\xF3vil\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"movil\",type:\"number\",ref:register({required:true})}),errors.movil&&renderValidationRequired(\"movil\"))),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Direcci\\xF3n Residencia\")),React.createElement(Col,{md:\"7\"},React.createElement(InputGroup,null,React.createElement(Col,{md:\"0\"},React.createElement(Form.Control,{size:\"sm\",name:\"dir_inicio\",as:\"select\",ref:register},React.createElement(\"option\",{value:\"207\"},\"Calle\"),React.createElement(\"option\",{value:\"192\"},\"Carrera\"),React.createElement(\"option\",{value:\"195\"},\"Avenida\"),React.createElement(\"option\",{value:\"193\"},\"Avenida carrera\"),React.createElement(\"option\",{value:\"201\"},\"Diagonal\"),React.createElement(\"option\",{value:\"203\"},\"Transversal\"),React.createElement(\"option\",{value:\"194\"},\"Autopista\"),React.createElement(\"option\",{value:\"200\"},\"Circunvalar\"),React.createElement(\"option\",{value:\"196\"},\"Carretera\"),React.createElement(\"option\",{value:\"202\"},\"Kil\\xF3metro\"),React.createElement(\"option\",{value:\"204\"},\"Vereda\"),React.createElement(\"option\",{value:\"199\"},\"Camino\"),React.createElement(\"option\",{value:\"205\"},\"Variante\"),React.createElement(\"option\",{value:\"206\"},\"Zona franca\"),React.createElement(\"option\",{value:\"208\"},\"Historico\"))),React.createElement(Form.Control,{size:\"sm\",name:\"dir_numero\",type:\"text\",ref:register({required:true})}),errors.dir_numero&&renderValidationRequired(\"dir_numero\"),React.createElement(\"span\",{className:\"ml-2 mr-2\"},\"#\"),React.createElement(Form.Control,{size:\"sm\",name:\"dir_parte1\",type:\"text\",ref:register({required:true})}),errors.dir_parte1&&renderValidationRequired(\"dir_parte1\"),React.createElement(\"span\",{className:\"ml-2 mr-2\"},\"-\"),React.createElement(Form.Control,{size:\"sm\",name:\"dir_parte2\",type:\"text\",ref:register({required:true})}),errors.dir_parte2&&renderValidationRequired(\"dir_parte2\"),React.createElement(Form.Control,{className:\"ml-2\",size:\"sm\",placeholder:\"Otros\",name:\"dir_otros\",type:\"text\",ref:register}),React.createElement(Form.Control,{size:\"sm\",placeholder:\"C\\xF3digo postal\",name:\"dir_postal\",type:\"text\",ref:register}))),React.createElement(Col,{md:\"0\",className:\"ml-2\"},React.createElement(\"span\",null,\"Tel\\xE9fono Fijo\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"fijo\",type:\"number\",ref:register({required:true})}),errors.fijo&&renderValidationRequired(\"fijo\"))),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Departamento\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"departamento\",as:\"select\",onChange:recalcularMunicipios,ref:register},departamentos)),React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Municipio\")),React.createElement(Col,{md:\"3\"},React.createElement(Form.Control,{size:\"sm\",name:\"municipio\",as:\"select\",ref:register},municipios)),React.createElement(Col,{md:\"0\",className:\"ml-5\"},React.createElement(\"span\",null,\"E-mail Personal\")),React.createElement(Col,{md:\"3\"},React.createElement(Form.Control,{size:\"sm\",name:\"email\",type:\"email\",ref:register({required:true})}),errors.email&&renderValidationRequired(\"email\"))),React.createElement(Row,{className:\"mb-4 pb-2\"},React.createElement(Col,{md:\"0\",className:\"mr-3\"},React.createElement(\"span\",null,\"Fecha Nacimiento\")),React.createElement(DatePicker,{selected:props.fechaNacimiento,onChange:function onChange(date){return cambiarFechaNacimiento(date);},maxDate:new Date(),dateFormat:\"dd/MM/yyyy\",locale:es,isClearable:true,peekNextMonth:true,showMonthDropdown:true,showYearDropdown:true,dropdownMode:\"select\"}),React.createElement(Col,{md:\"0\",className:\"ml-5\"},React.createElement(\"span\",null,\"Estado Civil\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"civil\",type:\"text\",ref:register({required:true})}),errors.civil&&renderValidationRequired(\"civil\"))),React.createElement(Row,{className:\"mt-4\"},React.createElement(\"span\",{className:\"pt-1\"},\"Personas a cargo: \\xA0 \",React.createElement(\"strong\",null,props.personasaCargo.length)),\"  \\xA0\\xA0\\xA0\",React.createElement(Button,{className:\"mb-2\",onClick:agregar,size:\"sm\",variant:\"info\"},\"Agregar\")),React.createElement(Col,{md:\"0\"},React.createElement(ReactTable/* Datagrid de Personas a cargo */,{data:props.personasaCargo,columns:[{id:1,Header:\"Nombres y apellidos de las personas a cargo\",accessor:\"nombre\",width:500,headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:2,Header:\"Parentesco\",accessor:\"parentesco\",headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:3,Header:\"Edad\",accessor:\"edad\",width:120,className:\"text-center\",headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:4,Header:\"Eliminar\",accessor:\"delete\",width:250,className:\"text-center\",headerClassName:\"encabezado_columna\",Cell:renderDelete}],pageSize:props.personasaCargo.length,showPagination:false,resizable:false,className:\"-striped -highlight blue\"})),React.createElement(Row,{className:\"mb-3 mt-4\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Nombre C\\xF3nyugue\")),React.createElement(Col,{md:\"7\"},React.createElement(Form.Control,{size:\"sm\",name:\"conyugue\",type:\"text\",ref:register({required:true})})),React.createElement(Col,{md:\"0\",className:\"ml-4\"},React.createElement(\"span\",null,\"No. Documento\")),React.createElement(Col,{md:\"2\"},React.createElement(Form.Control,{size:\"sm\",name:\"documento_conyugue\",type:\"number\",ref:register({required:true})}))),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Tel\\xE9fono M\\xF3vil\")),React.createElement(Col,{md:\"3\"},React.createElement(Form.Control,{size:\"sm\",name:\"movil_conyugue\",type:\"number\",ref:register({required:true})})),React.createElement(Col,{md:\"0\",className:\"ml-5\"},React.createElement(\"span\",null,\"Empresa donde trabaja\")),React.createElement(Col,{md:\"5\"},React.createElement(Form.Control,{size:\"sm\",name:\"empresa_conyugue\",type:\"text\",ref:register({required:true})}))),React.createElement(Row,{className:\"mb-3\"},React.createElement(Col,{md:\"0\"},React.createElement(\"span\",null,\"Tel\\xE9fono Oficina\")),React.createElement(Col,{md:\"3\"},React.createElement(Form.Control,{size:\"sm\",name:\"fijo_conyugue\",type:\"number\",ref:register({required:true})})),React.createElement(Col,{md:\"0\",className:\"ml-5\"},React.createElement(\"span\",null,\"E-mail personal\")),React.createElement(Col,{md:\"5\"},React.createElement(Form.Control,{size:\"sm\",name:\"email_conyugue\",type:\"email\",ref:register({required:true})}))));};export default InformacionPersonalFuncionario;","map":{"version":3,"sources":["/home/snw/Documentos/React projects/fbs/src/form/section1.js"],"names":["React","useEffect","useState","useFormContext","es","axios","Form","Col","Row","InputGroup","Overlay","Tooltip","Button","ReactTable","DatePicker","URL_departamentos","URL_municipios","URL_nombre_completo","InformacionPersonalFuncionario","props","register","watch","errors","nombreCompleto","setNombreCompleto","departamentos","setDepartamentos","municipios","setMunicipios","cambiarFechaNacimiento","fecha","cambiarPersonasaCargo","data","obtenerDepartamentos","get","response","items","result","push","index","codigo","nombre","recalcularMunicipios","console","log","obtenerNombreCompleto","URL","agregar","personasaCargo","length","renderEditable","cellInfo","e","column","id","isNaN","target","innerHTML","newData","__html","renderDelete","splice","renderValidationRequired","componente","document","getElementsByName","required","documento","movil","dir_numero","dir_parte1","dir_parte2","fijo","email","fechaNacimiento","date","Date","civil","Header","accessor","width","headerClassName","Cell","className"],"mappings":"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","sourcesContent":["// Librerias\nimport React, { useEffect, useState } from 'react';\nimport { useFormContext } from 'react-hook-form' \nimport es from 'date-fns/locale/es';\nimport axios from 'axios';\n\n// Layout\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// Elementos\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Button from 'react-bootstrap/Button';\nimport ReactTable from 'react-table-6';\nimport DatePicker from \"react-datepicker\";\n\n// Estilos\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-table-6/react-table.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport '../styles/app.css';\n\n\n// URL del servidor para solicitar los departamentos\nconst URL_departamentos = 'http://3.80.200.194/ords/snw_fonviv/lista/departamento'\n\n// URL del servidor para solicitar municipios a partir de un departamento\nvar URL_municipios = 'http://3.80.200.194/ords/snw_fonviv/lista/municipio?id_departamento='\n\n// URL del servidor para solicitar nombres y apellidos de un funcionario, a partir de su No. documento\nvar URL_nombre_completo = 'http://3.80.200.194/ords/snw_fonviv/solicitud/cliente?identificacion='\n\n\nconst InformacionPersonalFuncionario = props => {\n  \n  // Funciones utilizadas para conectar con el contexto principal del formulario\n  const register = useFormContext().register;   \n  const watch = useFormContext().watch;  \n  const errors = useFormContext().errors;  \n\n  const [nombreCompleto, setNombreCompleto] = useState(\"Se autocompleta con el No. de documento...\");\n  const [departamentos, setDepartamentos] = useState();\n  const [municipios, setMunicipios] = useState();\n  \n  // Se llama la función (Callback) del componente padre (Main)\n  function cambiarFechaNacimiento(fecha) { props.cambiarFechaNacimiento(fecha); }\n  function cambiarPersonasaCargo(data) { props.cambiarPersonasaCargo(data); }  \n\n\n  // Se ejecuta cada vez que se renderiza este componente\n  useEffect(() => {   \n\n   // Se carga la lista de departamentos y municipios\n   async function obtenerDepartamentos() {\n      try {\n        let response = await axios.get(URL_departamentos)\n        let data = response.data.items\n        let result = []\n\n        // Opcion por defecto\n        result.push(<option value={0} key={0}>Seleccione una Opción</option>)\n        \n        for (let index in data) {                   \n          result.push(<option value={data[index].codigo} key={data[index].codigo}>{data[index].nombre}</option>)\n        }\n        setDepartamentos(result)\n        \n        // Se obtiene el municipio por defecto a partir del departamento por defecto\n        recalcularMunicipios()\n\n      } catch (error) {\n        console.log('Fallo obteniendo los departamentos / municipios' + error)\n      }      \n    }    \n    obtenerDepartamentos();            \n  }, [])\n\n  // Funcion para consultar en base de datos los nombres y apellidos a partir del numero de documento\n  async function obtenerNombreCompleto() { \n    \n    // Se valida si se ha diligenciado el campo documento\n    if (watch('documento') !== ''){\n      try {\n        let URL = URL_nombre_completo\n        URL += watch('documento')      \n        let response = await axios.get(URL)\n        let result = await response.data\n\n        setNombreCompleto(result);\n        \n      } catch (error) {\n        console.log('Fallo obteniendo los nombres y apellidos' + error)\n      } \n    } \n    else {\n      setNombreCompleto(\"Se autocompleta con el No. de documento...\");\n    } \n  }\n\n  // Recalcular listado de municipios con base al departamento seleccionado\n  async function recalcularMunicipios() {     \n    \n    try {\n      let URL = URL_municipios\n      URL += watch('departamento')      \n      let response = await axios.get(URL)\n      let data = await response.data.items\n      let result = []\n      \n      // Opcion por defecto\n      result.push(<option value={0} key={0}>Seleccione una Opción</option>)\n\n      for (let index in data) {                   \n        result.push(\n          <option value={data[index].codigo} key={data[index].codigo}>{data[index].nombre}</option>\n        )\n      }\n      setMunicipios(result) \n      \n    } catch (error) {\n      console.log('Fallo obteniendo los municipios' + error)\n    }   \n  }\n\n\n  // Agregar una persona a cargo en el datagrid de personas a cargo\n  function agregar() {     \n    \n    // Máximo pueden haber 4 personas a cargo\n    if (props.personasaCargo.length < 4){ \n      let result = [...props.personasaCargo];\n      result.push([,\"\", \"\",])\n      cambiarPersonasaCargo(result);\n    }\n  }\n\n  // Celda para ingresar datos\n  function renderEditable(cellInfo) {\n    return (\n      <div        \n        className = \"cell\"\n        contentEditable                   \n\n        // La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n        onBlur = {e => {\n          // Se valida si la edad es numerica o no\n          if (cellInfo.column.id === 3){\n            if (!isNaN(e.target.innerHTML)){\n              const newData = [...props.personasaCargo];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarPersonasaCargo(newData);\n            }\n          }          \n          else {\n              const newData = [...props.personasaCargo];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarPersonasaCargo(newData);\n          }\n        }}   \n\n        dangerouslySetInnerHTML = {{\n          __html: props.personasaCargo[cellInfo.index][cellInfo.column.id]\n        }} \n      />\n    );\n  }\n\n  // Celda para eliminar la fila\n  function renderDelete(cellInfo) {\n    return (\n      <Button \n\n        onClick = {e => {\n          // Mínimo debe haber una persona a cargo\n          if (props.personasaCargo.length > 1){ \n            let result = [...props.personasaCargo];\n            result.splice(cellInfo.index , 1);          \n            cambiarPersonasaCargo(result);       \n          }   \n        }}\n\n        size=\"sm\" \n        variant=\"danger\"\n        className=\"rellenar\">    \n          Eliminar\n      </Button> \n    );\n  }\n\n  /* Ayuda emergente para mostrar cuando la validación de campo requerido no se cumple;\n     * Componente: Es el name con el cual se identifica el elemento que no cumple la validación     \n  */\n  function renderValidationRequired(componente) { \n    return (\n      <Overlay target={document.getElementsByName(componente)[0]} show={true} placement=\"top\">\n        {props => (\n          <Tooltip {...props}>\n            <span>Campo requerido</span>\n          </Tooltip>\n        )}\n      </Overlay>   \n    )\n  }\n\n  return (\n      \n    <div>              \n      <h3 className=\"mb-4 mt-5\">1. Información personal del funcionario</h3>      \n\n      <Row className=\"mb-3\">{/*Nombres y apellidos */}\n        <Col md=\"0\" >\n          <span>Nombres y Apellidos</span>\n        </Col>\n        <Col>\n          <Form.Control disabled size=\"sm\" name=\"nombres\" type=\"text\" value={nombreCompleto}/>\n        </Col>  \n      </Row>\n\n      <Row className=\"mb-3\">{/*Documento, sexo y movil */}\n        <Col md=\"0\">\n          <span>Tipo Documento</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"tipo_documento\" as=\"select\" ref={register}>                \n            <option value=\"0\">Seleccione una opción</option>\n            <option value=\"CC\">C.C</option>\n            <option value=\"CE\">C.E</option>\n            <option value=\"NIT\">NIT</option>\n            <option value=\"TI\">T.I</option>\n            <option value=\"RC\">REGISTRO CIVIL</option>\n          </Form.Control>\n        </Col>\n        <Col md=\"0\" className=\"ml-3\">\n          <span>No. Documento</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"documento\" type=\"number\" onBlur = {obtenerNombreCompleto} ref={register({required: true})} />\n            {errors.documento && renderValidationRequired(\"documento\")}\n        </Col>\n        <Col md=\"0\" className=\"ml-3 mr-3\">\n          <span>Sexo</span>\n        </Col>\n        <Col md=\"0\"> \n          <Form.Control size=\"sm\" name=\"sexo\" as=\"select\" ref={register}>\n            <option value=\"0\">Seleccione una opción</option>\n            <option value=\"M\">Masculino</option>\n            <option value=\"F\">Femenino</option>\n            <option value=\"O\">Otro</option>\n          </Form.Control>\n        </Col>\n        <Col md=\"0\" className=\"ml-5\">\n          <span>Teléfono Móvil</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"movil\" type=\"number\" ref={register({required: true})} />\n            {errors.movil && renderValidationRequired(\"movil\")}                          \n        </Col>\n      </Row> \n\n      <Row className=\"mb-3\">{/*Direccion y Teléfono fijo */}\n        <Col md=\"0\" >\n          <span>Dirección Residencia</span>\n        </Col>\n\n        <Col md=\"7\">\n          <InputGroup>    \n            <Col md=\"0\" >              \n              <Form.Control size=\"sm\" name=\"dir_inicio\" as=\"select\" ref={register}>              \n                <option value=\"207\">Calle</option>\n                <option value=\"192\">Carrera</option>\n                <option value=\"195\">Avenida</option>\n                <option value=\"193\">Avenida carrera</option>\n                <option value=\"201\">Diagonal</option>\n                <option value=\"203\">Transversal</option>  \n                <option value=\"194\">Autopista</option>              \n                <option value=\"200\">Circunvalar</option>  \n                <option value=\"196\">Carretera</option>                                                                    \n                <option value=\"202\">Kilómetro</option>            \n                <option value=\"204\">Vereda</option>\n                <option value=\"199\">Camino</option>\n                <option value=\"205\">Variante</option>\n                <option value=\"206\">Zona franca</option>\n                <option value=\"208\">Historico</option>                                                       \n              </Form.Control> \n            </Col> \n            <Form.Control size=\"sm\" name=\"dir_numero\" type=\"text\" ref={register({required: true})} />    \n              {errors.dir_numero && renderValidationRequired(\"dir_numero\")}                          \n            <span className=\"ml-2 mr-2\">#</span>\n            <Form.Control size=\"sm\" name=\"dir_parte1\" type=\"text\" ref={register({required: true})} /> \n              {errors.dir_parte1 && renderValidationRequired(\"dir_parte1\")}\n            <span className=\"ml-2 mr-2\">-</span>\n            <Form.Control size=\"sm\" name=\"dir_parte2\" type=\"text\" ref={register({required: true})} />          \n              {errors.dir_parte2 && renderValidationRequired(\"dir_parte2\")}                    \n            <Form.Control className=\"ml-2\" size=\"sm\" placeholder=\"Otros\" name=\"dir_otros\" type=\"text\" ref={register} />              \n            <Form.Control size=\"sm\" placeholder=\"Código postal\" name=\"dir_postal\" type=\"text\" ref={register} />              \n          </InputGroup>\n        </Col>\n        <Col md=\"0\" className=\"ml-2\">\n          <span>Teléfono Fijo</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"fijo\" type=\"number\" ref={register({required: true})} />\n            {errors.fijo && renderValidationRequired(\"fijo\")}                          \n        </Col>\n      </Row>\n      \n      <Row className=\"mb-3\">{/*Municipio, departamento e email*/}\n        <Col md=\"0\" >\n          <span>Departamento</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"departamento\" as=\"select\" onChange={recalcularMunicipios} ref={register}>\n            {departamentos}\n          </Form.Control>\n        </Col>\n        <Col md=\"0\" >\n          <span>Municipio</span>\n        </Col>\n        <Col md=\"3\">\n          <Form.Control size=\"sm\" name=\"municipio\" as=\"select\" ref={register}>\n            {municipios}\n          </Form.Control>\n        </Col>            \n        <Col md=\"0\" className=\"ml-5\">\n          <span>E-mail Personal</span>\n        </Col>\n        <Col md=\"3\">\n          <Form.Control size=\"sm\" name=\"email\" type=\"email\" ref={register({required: true})} />\n            {errors.email && renderValidationRequired(\"email\")}                          \n        </Col>\n      </Row>\n\n      <Row className=\"mb-4 pb-2\">{/*Fecha nacimiento, Estado civil y Personas a cargo*/}\n        <Col md=\"0\" className=\"mr-3\">\n          <span>Fecha Nacimiento</span>\n        </Col>        \n        <DatePicker\n          selected={props.fechaNacimiento}\n          onChange={date => cambiarFechaNacimiento(date)}\n          maxDate={new Date()}\n          dateFormat=\"dd/MM/yyyy\"\n          locale={es}\n          isClearable\n          peekNextMonth\n          showMonthDropdown\n          showYearDropdown\n          dropdownMode=\"select\"                                          \n        />\n        <Col md=\"0\" className=\"ml-5\">\n          <span>Estado Civil</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"civil\" type=\"text\" ref={register({required: true})} />\n            {errors.civil && renderValidationRequired(\"civil\")}   \n        </Col>           \n      </Row>\n      \n      <Row className=\"mt-4\">\n        <span className=\"pt-1\">Personas a cargo: &nbsp; <strong>{props.personasaCargo.length}</strong></span>  &nbsp;&nbsp;&nbsp;\n        <Button className=\"mb-2\" onClick={agregar} size=\"sm\" variant=\"info\">\n          Agregar\n        </Button> \n      </Row>\n\n      <Col md=\"0\">                    \n        <ReactTable /* Datagrid de Personas a cargo */              \n          data = {props.personasaCargo}\n          columns={[\n            {\n              id: 1,\n              Header: \"Nombres y apellidos de las personas a cargo\",\n              accessor: \"nombre\",\n              width: 500,\n              headerClassName: \"encabezado_columna\",\n              Cell: renderEditable\n            },\n            {\n              id: 2,\n              Header: \"Parentesco\",\n              accessor: \"parentesco\",         \n              headerClassName: \"encabezado_columna\",                           \n              Cell: renderEditable\n            },\n            {\n              id: 3,\n              Header: \"Edad\",\n              accessor: \"edad\",              \n              width: 120,                                    \n              className: \"text-center\",\n              headerClassName: \"encabezado_columna\",\n              Cell: renderEditable\n            },\n            {\n              id: 4,\n              Header: \"Eliminar\",\n              accessor: \"delete\",              \n              width: 250,\n              className: \"text-center\",\n              headerClassName: \"encabezado_columna\",\n              Cell: renderDelete\n            }\n          ]}              \n          pageSize = {props.personasaCargo.length}\n          showPagination = {false}            \n          resizable = {false}  \n          className = \"-striped -highlight blue\"\n        />           \n      </Col>         \n\n      <Row className=\"mb-3 mt-4\">{/*Conyugue y su documento*/}\n        <Col md=\"0\" >\n          <span>Nombre Cónyugue</span>\n        </Col>\n        <Col md=\"7\">\n          <Form.Control size=\"sm\" name=\"conyugue\" type=\"text\" ref={register({required: true})} />\n        </Col>\n        <Col md=\"0\" className=\"ml-4\">\n          <span>No. Documento</span>\n        </Col>\n        <Col md=\"2\">\n          <Form.Control size=\"sm\" name=\"documento_conyugue\" type=\"number\" ref={register({required: true})} />\n        </Col>\n      </Row>      \n\n      <Row className=\"mb-3\">{/*Movil y trabajo del conyugue*/}\n        <Col md=\"0\" >\n          <span>Teléfono Móvil</span>\n        </Col>\n        <Col md=\"3\">\n          <Form.Control size=\"sm\" name=\"movil_conyugue\" type=\"number\" ref={register({required: true})} />\n        </Col>\n        <Col md=\"0\" className=\"ml-5\">\n          <span>Empresa donde trabaja</span>\n        </Col>\n        <Col md=\"5\">\n          <Form.Control size=\"sm\" name=\"empresa_conyugue\" type=\"text\" ref={register({required: true})} />\n        </Col>\n      </Row>    \n\n      <Row className=\"mb-3\">{/*Telefono oficina e email del conyugue*/}\n        <Col md=\"0\" >\n          <span>Teléfono Oficina</span>\n        </Col>\n        <Col md=\"3\">\n          <Form.Control size=\"sm\" name=\"fijo_conyugue\" type=\"number\" ref={register({required: true})} />\n        </Col>\n        <Col md=\"0\" className=\"ml-5\">\n          <span>E-mail personal</span>\n        </Col>\n        <Col md=\"5\">\n          <Form.Control size=\"sm\" name=\"email_conyugue\" type=\"email\" ref={register({required: true})} />\n        </Col>\n      </Row>     \n    </div>                      \n  );\n}\n\nexport default InformacionPersonalFuncionario;"]},"metadata":{},"sourceType":"module"}