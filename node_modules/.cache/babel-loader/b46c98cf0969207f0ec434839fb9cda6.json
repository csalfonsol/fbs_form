{"ast":null,"code":"import _toConsumableArray from\"/home/snw/Documentos/React projects/fbs/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";// Librerias\nimport React from'react';import{useFormContext}from'react-hook-form';// Layout\nimport Col from'react-bootstrap/Col';import Row from'react-bootstrap/Row';// Elementos\nimport Alert from'react-bootstrap/Alert';import Button from'react-bootstrap/Button';import ReactTable from'react-table-6';// Estilos\nimport'bootstrap/dist/css/bootstrap.min.css';import'../styles/app.css';var ReferenciasFamiliares=function ReferenciasFamiliares(props){// Se llama la función (Callback) del componente padre (Main)\nfunction cambiarReferenciasFamiliares(data){props.cambiarReferenciasFamiliares(data);}// Agregar una referencia familiar en el datagrid de referencias familiares\nvar agregar=function agregar(e){// Máximo pueden haber 8 referencias familiares\nif(props.referenciasFamiliares.length<8){var result=_toConsumableArray(props.referenciasFamiliares);result.push([,\"\",\"\"]);cambiarReferenciasFamiliares(result);}};// Celda para ingresar datos\nfunction renderEditable(cellInfo){return React.createElement(\"div\",{className:\"cell\",contentEditable:true// La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n,onBlur:function onBlur(e){// Se valida si el teléfono es numerico o no\nif(cellInfo.column.id===3){if(!isNaN(e.target.innerHTML)){var newData=_toConsumableArray(props.referenciasFamiliares);newData[cellInfo.index][cellInfo.column.id]=e.target.innerHTML;cambiarReferenciasFamiliares(newData);}}else{var _newData=_toConsumableArray(props.referenciasFamiliares);_newData[cellInfo.index][cellInfo.column.id]=e.target.innerHTML;cambiarReferenciasFamiliares(_newData);}},dangerouslySetInnerHTML:{__html:props.referenciasFamiliares[cellInfo.index][cellInfo.column.id]}});}// Celda para eliminar la fila\nfunction renderDelete(cellInfo){return React.createElement(Button,{onClick:function onClick(e){// Mínimo debe haber una referencia familiar\nif(props.referenciasFamiliares.length>1){var result=_toConsumableArray(props.referenciasFamiliares);result.splice(cellInfo.index,1);cambiarReferenciasFamiliares(result);}},size:\"sm\",variant:\"danger\",className:\"rellenar\"},\"Eliminar\");}return React.createElement(\"div\",null,React.createElement(\"h3\",{className:\"mb-3 mt-5\"},\"2. Referencias familiares\"),React.createElement(Row,{className:\"mt-4\"},React.createElement(\"span\",{className:\"pt-1\"},\"Referencias familiares: \\xA0 \",React.createElement(\"strong\",null,props.referenciasFamiliares.length)),\"  \\xA0\\xA0\\xA0\",React.createElement(Button,{className:\"mb-2\",onClick:agregar,size:\"sm\",variant:\"info\"},\"Agregar\")),React.createElement(Col,{md:\"0\"},React.createElement(ReactTable/* Datagrid de referencias familiares */,{data:props.referenciasFamiliares,columns:[{id:1,Header:\"Nombres y apellidos\",accessor:\"nombres\",width:500,headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:2,Header:\"Ciudad de residencia\",accessor:\"ciudad\",headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:3,Header:\"No. Teléfono fijo / móvil\",accessor:\"telefono\",width:220,className:\"text-center\",headerClassName:\"encabezado_columna\",Cell:renderEditable},{id:4,Header:\"Eliminar\",accessor:\"delete\",width:250,className:\"text-center\",headerClassName:\"encabezado_columna\",Cell:renderDelete}],pageSize:props.referenciasFamiliares.length,showPagination:false,resizable:false,className:\"-striped -highlight blue\"})));};export default ReferenciasFamiliares;","map":{"version":3,"sources":["/home/snw/Documentos/React projects/fbs/src/form/section2.js"],"names":["React","useFormContext","Col","Row","Alert","Button","ReactTable","ReferenciasFamiliares","props","cambiarReferenciasFamiliares","data","agregar","e","referenciasFamiliares","length","result","push","renderEditable","cellInfo","column","id","isNaN","target","innerHTML","newData","index","__html","renderDelete","splice","Header","accessor","width","headerClassName","Cell","className"],"mappings":"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","sourcesContent":["// Librerias\nimport React from 'react';\nimport { useFormContext } from 'react-hook-form' \n\n// Layout\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// Elementos\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\nimport ReactTable from 'react-table-6';\n\n// Estilos\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/app.css';\n\n\n\nconst ReferenciasFamiliares = props =>  {\n\n\n  // Se llama la función (Callback) del componente padre (Main)\n  function cambiarReferenciasFamiliares(data) { props.cambiarReferenciasFamiliares(data); }\n\n\n  // Agregar una referencia familiar en el datagrid de referencias familiares\n  const agregar = e => {     \n    \n    // Máximo pueden haber 8 referencias familiares\n    if (props.referenciasFamiliares.length < 8){ \n      let result = [...props.referenciasFamiliares];\n      result.push([,\"\", \"\",])\n      cambiarReferenciasFamiliares(result);    \n    }\n  }\n\n  // Celda para ingresar datos\n  function renderEditable(cellInfo) {\n    return (\n      <div        \n        className = \"cell\"\n        contentEditable                   \n\n        // La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n        onBlur = {e => {\n          // Se valida si el teléfono es numerico o no\n          if (cellInfo.column.id === 3){\n            if (!isNaN(e.target.innerHTML)){\n              const newData = [...props.referenciasFamiliares];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarReferenciasFamiliares(newData);\n            }\n          }          \n          else {\n              const newData = [...props.referenciasFamiliares];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarReferenciasFamiliares(newData);\n          }\n        }}   \n\n        dangerouslySetInnerHTML = {{\n          __html: props.referenciasFamiliares[cellInfo.index][cellInfo.column.id]\n        }} \n      />\n    );\n  }\n\n  // Celda para eliminar la fila\n  function renderDelete(cellInfo) {\n    return (\n      <Button \n\n        onClick = {e => {\n          // Mínimo debe haber una referencia familiar\n          if (props.referenciasFamiliares.length > 1){ \n            let result = [...props.referenciasFamiliares];\n            result.splice(cellInfo.index , 1);          \n            cambiarReferenciasFamiliares(result);       \n          }   \n        }}\n\n        size=\"sm\" \n        variant=\"danger\"\n        className=\"rellenar\">    \n          Eliminar\n      </Button> \n    );\n  }\n\n  return (\n      \n      <div>\n        \n        <h3 className=\"mb-3 mt-5\">2. Referencias familiares</h3>      \n\n          <Row className=\"mt-4\">\n            <span className=\"pt-1\">Referencias familiares: &nbsp; <strong>{props.referenciasFamiliares.length}</strong></span>  &nbsp;&nbsp;&nbsp;\n            <Button className=\"mb-2\" onClick={agregar} size=\"sm\" variant=\"info\">\n              Agregar\n            </Button> \n          </Row>\n\n          <Col md=\"0\">                      \n            <ReactTable /* Datagrid de referencias familiares */              \n              data = {props.referenciasFamiliares}\n              columns={[\n                {\n                  id: 1,\n                  Header: \"Nombres y apellidos\",\n                  accessor: \"nombres\",\n                  width: 500,\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderEditable\n                },\n                {\n                  id: 2,\n                  Header: \"Ciudad de residencia\",\n                  accessor: \"ciudad\",         \n                  headerClassName: \"encabezado_columna\",                           \n                  Cell: renderEditable\n                },\n                {\n                  id: 3,\n                  Header: \"No. Teléfono fijo / móvil\",\n                  accessor: \"telefono\",              \n                  width: 220,                                    \n                  className: \"text-center\",\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderEditable\n                },\n                {\n                  id: 4,\n                  Header: \"Eliminar\",\n                  accessor: \"delete\",              \n                  width: 250,\n                  className: \"text-center\",\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderDelete\n                }\n              ]}              \n              pageSize = {props.referenciasFamiliares.length}\n              showPagination = {false}            \n              resizable = {false}  \n              className = \"-striped -highlight blue\"\n            />           \n          </Col>     \n      </div>                          \n  );\n}\n\nexport default ReferenciasFamiliares;"]},"metadata":{},"sourceType":"module"}