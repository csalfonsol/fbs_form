{"ast":null,"code":"var _jsxFileName = \"/home/snw/Documentos/React projects/fbs/src/form/section2.js\";\n// Librerias\nimport React from 'react';\nimport ReactTable from 'react-table-6';\nimport { useFormContext } from 'react-hook-form'; // Layout\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row'; // Elementos\n\nimport Label from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button'; // Estilos\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/app.css';\n\nconst ReferenciasFamiliares = props => {\n  // Se llama la función (Callback) del componente padre (Main)\n  function cambiarReferenciasFamiliares(data) {\n    props.cambiarReferenciasFamiliares(data);\n  } // Agregar una referencia familiar en el datagrid de referencias familiares\n\n\n  const agregar = e => {\n    // Máximo pueden haber 4 personas a cargo\n    if (props.referenciasFamiliares.length < 4) {\n      let result = [...props.referenciasFamiliares];\n      result.push([, \"\", \"\"]);\n      cambiarReferenciasFamiliares(result);\n    }\n  }; // Celda para ingresar datos\n\n\n  function renderEditable(cellInfo) {\n    return React.createElement(\"div\", {\n      className: \"cell\",\n      contentEditable: true // La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n      ,\n      onBlur: e => {\n        // Se valida si la edad es numerica o no\n        if (cellInfo.column.id === 3) {\n          if (!isNaN(e.target.innerHTML)) {\n            const newData = [...props.referenciasFamiliares];\n            newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;\n            cambiarReferenciasFamiliares(newData);\n          }\n        } else {\n          const newData = [...props.referenciasFamiliares];\n          newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;\n          cambiarReferenciasFamiliares(newData);\n        }\n      },\n      dangerouslySetInnerHTML: {\n        __html: props.referenciasFamiliares[cellInfo.index][cellInfo.column.id]\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    });\n  } // Celda para eliminar la fila\n\n\n  function renderDelete(cellInfo) {\n    return React.createElement(Button, {\n      onClick: e => {\n        // Mínimo debe haber una persona a cargo\n        if (props.referenciasFamiliares.length > 1) {\n          let result = [...props.referenciasFamiliares];\n          result.splice(cellInfo.index, 1);\n          cambiarReferenciasFamiliares(result);\n        }\n      },\n      size: \"sm\",\n      variant: \"danger\",\n      className: \"rellenar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Eliminar\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"mb-3 mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"2. Referencias familiares\"), React.createElement(Row, {\n    className: \"mt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Label, {\n    className: \"pt-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Referencias familiares: \\xA0 \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, props.referenciasFamiliares.length)), \"  \\xA0\\xA0\\xA0\", React.createElement(Button, {\n    className: \"mb-2\",\n    onClick: agregar,\n    size: \"sm\",\n    variant: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Agregar\")), React.createElement(Col, {\n    md: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(ReactTable\n  /* Datagrid de referencias familiares */\n  , {\n    data: props.referenciasFamiliares,\n    columns: [{\n      id: 1,\n      Header: \"Nombres y apellidos\",\n      accessor: \"nombres\",\n      width: 500,\n      headerClassName: \"encabezado_columna\",\n      Cell: renderEditable\n    }, {\n      id: 2,\n      Header: \"Ciudad de residencia\",\n      accessor: \"ciudad\",\n      headerClassName: \"encabezado_columna\",\n      Cell: renderEditable\n    }, {\n      id: 3,\n      Header: \"No. Teléfono fijo / móvil\",\n      accessor: \"telefono\",\n      width: 120,\n      className: \"text-center\",\n      headerClassName: \"encabezado_columna\",\n      Cell: renderEditable\n    }, {\n      id: 4,\n      Header: \"Eliminar\",\n      accessor: \"delete\",\n      width: 250,\n      className: \"text-center\",\n      headerClassName: \"encabezado_columna\",\n      Cell: renderDelete\n    }],\n    pageSize: props.referenciasFamiliares.length,\n    showPagination: false,\n    resizable: false,\n    className: \"-striped -highlight blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })));\n};\n\nexport default ReferenciasFamiliares;","map":{"version":3,"sources":["/home/snw/Documentos/React projects/fbs/src/form/section2.js"],"names":["React","ReactTable","useFormContext","Col","Row","Label","Alert","Button","ReferenciasFamiliares","props","cambiarReferenciasFamiliares","data","agregar","e","referenciasFamiliares","length","result","push","renderEditable","cellInfo","column","id","isNaN","target","innerHTML","newData","index","__html","renderDelete","splice","Header","accessor","width","headerClassName","Cell","className"],"mappings":"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","sourcesContent":["// Librerias\nimport React from 'react';\nimport ReactTable from 'react-table-6';\nimport { useFormContext } from 'react-hook-form' \n\n// Layout\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\n\n// Elementos\nimport Label from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\n\n// Estilos\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/app.css';\n\n\n\nconst ReferenciasFamiliares = props =>  {\n\n\n  // Se llama la función (Callback) del componente padre (Main)\n  function cambiarReferenciasFamiliares(data) { props.cambiarReferenciasFamiliares(data); }\n\n\n  // Agregar una referencia familiar en el datagrid de referencias familiares\n  const agregar = e => {     \n    \n    // Máximo pueden haber 4 personas a cargo\n    if (props.referenciasFamiliares.length < 4){ \n      let result = [...props.referenciasFamiliares];\n      result.push([,\"\", \"\",])\n      cambiarReferenciasFamiliares(result);    \n    }\n  }\n\n  // Celda para ingresar datos\n  function renderEditable(cellInfo) {\n    return (\n      <div        \n        className = \"cell\"\n        contentEditable                   \n\n        // La variable de estado se actualiza cada vez que se suelta el foco de la celda actual\n        onBlur = {e => {\n          // Se valida si la edad es numerica o no\n          if (cellInfo.column.id === 3){\n            if (!isNaN(e.target.innerHTML)){\n              const newData = [...props.referenciasFamiliares];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarReferenciasFamiliares(newData);\n            }\n          }          \n          else {\n              const newData = [...props.referenciasFamiliares];\n              newData[cellInfo.index][cellInfo.column.id] = e.target.innerHTML;                          \n              cambiarReferenciasFamiliares(newData);\n          }\n        }}   \n\n        dangerouslySetInnerHTML = {{\n          __html: props.referenciasFamiliares[cellInfo.index][cellInfo.column.id]\n        }} \n      />\n    );\n  }\n\n  // Celda para eliminar la fila\n  function renderDelete(cellInfo) {\n    return (\n      <Button \n\n        onClick = {e => {\n          // Mínimo debe haber una persona a cargo\n          if (props.referenciasFamiliares.length > 1){ \n            let result = [...props.referenciasFamiliares];\n            result.splice(cellInfo.index , 1);          \n            cambiarReferenciasFamiliares(result);       \n          }   \n        }}\n\n        size=\"sm\" \n        variant=\"danger\"\n        className=\"rellenar\">    \n          Eliminar\n      </Button> \n    );\n  }\n\n  return (\n      \n      <div>\n        \n        <h3 className=\"mb-3 mt-5\">2. Referencias familiares</h3>      \n\n          <Row className=\"mt-4\">\n            <Label className=\"pt-1\">Referencias familiares: &nbsp; <strong>{props.referenciasFamiliares.length}</strong></Label>  &nbsp;&nbsp;&nbsp;\n            <Button className=\"mb-2\" onClick={agregar} size=\"sm\" variant=\"info\">\n              Agregar\n            </Button> \n          </Row>\n\n          <Col md=\"0\">          \n            {/*\n            <Button onClick={handleClick} size=\"sm\" variant=\"primary\">\n             ver data  \n            </Button>   \n            */}\n            <ReactTable /* Datagrid de referencias familiares */              \n              data = {props.referenciasFamiliares}\n              columns={[\n                {\n                  id: 1,\n                  Header: \"Nombres y apellidos\",\n                  accessor: \"nombres\",\n                  width: 500,\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderEditable\n                },\n                {\n                  id: 2,\n                  Header: \"Ciudad de residencia\",\n                  accessor: \"ciudad\",         \n                  headerClassName: \"encabezado_columna\",                           \n                  Cell: renderEditable\n                },\n                {\n                  id: 3,\n                  Header: \"No. Teléfono fijo / móvil\",\n                  accessor: \"telefono\",              \n                  width: 120,                                    \n                  className: \"text-center\",\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderEditable\n                },\n                {\n                  id: 4,\n                  Header: \"Eliminar\",\n                  accessor: \"delete\",              \n                  width: 250,\n                  className: \"text-center\",\n                  headerClassName: \"encabezado_columna\",\n                  Cell: renderDelete\n                }\n              ]}              \n              pageSize = {props.referenciasFamiliares.length}\n              showPagination = {false}            \n              resizable = {false}  \n              className = \"-striped -highlight blue\"\n            />           \n          </Col>     \n      </div>                      \n    \n  );\n}\n\nexport default ReferenciasFamiliares;"]},"metadata":{},"sourceType":"module"}